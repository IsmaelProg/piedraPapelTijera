<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Piedra Papel Tijera</title>
</head>
<body>
    <h1>PIEDRA PAPEL TIJERA</h1>
    <h4>Quien consiga 5 gana!</h4>
    <h3>Elige uno: </h3>
    <button id="Piedra" type="button">Piedra</button>
    <button id="Papel" type="button">Papel</button>
    <button id="Tijera" type="button">Tijera</button>
    <h2 >Resultado</h3>
    <div id="marcador">    
        <h4 id="cj">Tú</h4>
        <h4 id="cm">Maquina</h4>
    </div>
    <div id="accion"></div>
<script>
const columnaJugador = document.querySelector('#cj');
    const columnaMaquina = document.querySelector('#cm');
    const parrresultadoJ = document.createElement('p');
    const parrresultadoM = document.createElement('p');
    columnaJugador.appendChild(parrresultadoJ);
    columnaMaquina.appendChild(parrresultadoM);
    parrresultadoJ.textContent = '';
    parrresultadoM.textContent = '';
let eleccionJugador


let buttons = document.querySelectorAll('button');
buttons.forEach((button) => {
    button.addEventListener('click', () => {
        eleccionJugador = button.id;
        game()
    })
})

function getComputerChoice (max, min) {
    let jugadaAleatoria = Math.floor(Math.random() * (max - min + 1) + min);
        if(jugadaAleatoria === 1){
        return "Piedra";
        } else if(jugadaAleatoria === 2){
        return "Papel";
        } else {
        return "Tijera"
        }
}

function game(){
    const container = document.querySelector('#accion')
    const parrEleccion = document.createElement('p')
    const eleccionMaquina = getComputerChoice(3,1);
    
    if(eleccionJugador === eleccionMaquina){
        result = 'EMPATE';
    } else if(eleccionJugador === "Tijera" && eleccionMaquina === "Papel"){
        result = "Ganas!";
    } else if(eleccionJugador === "Piedra" && eleccionMaquina === "Tijera"){
        result = "Ganas!";
    } else if(eleccionJugador === "Papel" && eleccionMaquina === "Piedra"){
        result = "Ganas!";
    } else {
        result = "Pierdes :("
    }
    parrEleccion.textContent = "Elegiste " + eleccionJugador + " la maquina escogió " + eleccionMaquina + ', ' + result;
    container.appendChild(parrEleccion)
    
    contador()
    cinco()
}

function contador(){
    if (result === "Ganas!"){
        parrresultadoJ.textContent += '|'
        
    } else if(result === "Pierdes :("){
        parrresultadoM.textContent += '|'
        
    }
}

function cinco() {
if(parrresultadoJ.textContent === '|||||'){
    alert('Ganaste!');
    
} else if(parrresultadoM.textContent === '|||||')
   alert('Perdiste!');
   
}


</script>
</body>
</html>